#!/bin/bash

# Basic Recon Script from Erregular
# 1st April 2017 
# Version 0.03

echo "Script Started!"

# Options

# Script Target - The IP we are going to cherck.
TARGETIP="192.168.14.200"
#TARGETIP="172.16.127.163"

echo "Targeing IP: $TARGETIP"

# Ports to be scan in Port scan....leave a leading space
PORTS=" 21,6200,1524 "
#
# End of Options --------------------------------------

# Ask to check the array for specific port scan.
echo "Do you want to run specific port scan? (Y/N)"

read portReply

if [ $portReply = "Y" ] || [ $portReply = "y" ]; then
	echo "You selected Y. Here we go:"

	# Construct command, show to user.log and run
	localcmd="nmap $TARGETIP -p $PORTS"
	echo $localcmd
	$localcmd

else
	echo "You selected N. Not performing quick port scan."
fi
            
# Check user response and intensive port scan if positive.
echo "Do you want to run intensive target scan? (Y/N)"

read intensiveReply

# echo $intensiveReply

if [[ $intensiveReply = "Y" ]] || [[ $intensiveReply = "y" ]]; then
	echo "You selected Y. Here we go:"
	
	# Construct command, show to user.log and run
	localcmd="nmap -sV $TARGETIP"
	echo $localcmd
	$localcmd

else
	echo "You selected N. Not performing intensive scan."
fi

echo "Finished!"

# Version History
# ----------------------------------------------------
# 
# Version 0.01
#	Initial release

# Version 0.02
# 	Fix input selction bug from V0.01

# Version 0.03
#	Improved input selections to accept lowercase "y" for positive responses.
#
#	Changed implementation of quick port scan, do all ports are checked in one nmap command
#
#	Changed running order so quick port scans are implemented first.
# ----------------------------------------------------

# -----------------------------------------------------------------
# no support or warranty offered. 


# -----------------------------------------------------------------
# Credits


# # Base script used:  https://suprafortix.wordpress.com/2014/09/16/automatic_nmap_script/




